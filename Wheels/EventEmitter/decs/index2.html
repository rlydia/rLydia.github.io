<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>EventEmitter</title>
</head>

<body>
    <script type="text/javascript" src="../eventEmitter.js"></script>
    <script>
      // 支持在监听器函数中删除未执行的某个事件
      var emitter = new EventEmitter();

      function handleOne(a, b, c) {
          console.log('第一个监听函数', a, b, c)
          emitter.off("demo", handleSecond)
      }

      function handleSecond(a, b, c) {
          console.log('第二个监听函数', a, b, c)
      }

      function handleThird(a, b, c) {
          console.log('第三个监听函数', a, b, c)
      }

      emitter.on("demo", handleOne)
             .on("demo", handleSecond)
             .on("demo", handleThird);

      emitter.emit('demo', [1, 2, 3]);
      // => 第一个监听函数 1 2 3
      // => 第三个监听函数 1 2 3
    </script>
</body>

</html>